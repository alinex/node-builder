<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="doc-style.css" />
  <script src="doc-filelist.js"></script>
  <script>
    var relativeDir = "", thisFile = "Users/alex/a3/node-make/READMEmd", defaultSidebar = true;
  </script>
  <script src="doc-script.js"></script>
  <script src="fileSearch.js"></script>
  <script src="goToLine.js"></script>
  <link rel="stylesheet" href="fileSearch.css" />
  <link rel="stylesheet" href="goToLine.css" />
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h1">
        <a href="#alinex%20development%20utils">Alinex Development Utils</a>
      </div>
      <div class="heading h2">
        <a href="#motivation">Motivation</a>
      </div>
      <div class="heading h2">
        <a href="#installation">Installation</a>
      </div>
      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>
      <div class="heading h3">
        <a href="#general%20options">General options</a>
      </div>
      <div class="heading h3">
        <a href="#command%20create">Command create</a>
      </div>
      <div class="heading h3">
        <a href="#command%20push">Command push</a>
      </div>
      <div class="heading h3">
        <a href="#command%20pull">Command pull</a>
      </div>
      <div class="heading h3">
        <a href="#command%20test">Command test</a>
      </div>
      <div class="heading h3">
        <a href="#command%3A%20doc">Command: doc</a>
      </div>
      <div class="heading h3">
        <a href="#command%20build">Command build</a>
      </div>
      <div class="heading h3">
        <a href="#command%20publish">Command publish</a>
      </div>
      <div class="heading h3">
        <a href="#command%3A%20clean">Command: clean</a>
      </div>
      <div class="heading h2">
        <a href="#command%20overview">Command overview</a>
      </div>
      <div class="heading h2">
        <a href="#license">License</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="docs markdown">
<div class="pilwrap" id="alinex%20development%20utils">
  <h1>
    <a href="#alinex%20development%20utils" name="alinex%20development%20utils" class="pilcrow">&#182;</a>
    Alinex Development Utils
  </h1>
</div>


<p><a href="https://travis-ci.org/alinex/node-make"><img src="https://travis-ci.org/alinex/node-make.svg?branch=master" alt="Build Status" title="" /></a>
<a href="https://gemnasium.com/alinex/node-make"><img src="https://gemnasium.com/alinex/node-make.png" alt="Dependency Status" title="" /></a></p>

<p>This package contains some helper commands for development of the alinex
node packages. This is a superset of npm and other command line tools.</p>

<p>At the moment it is not completely general but specific to my own development.
But feel free to change the settings within the code to match your environment.</p>


<div class="pilwrap" id="motivation">
  <h2>
    <a href="#motivation" name="motivation" class="pilcrow">&#182;</a>
    Motivation
  </h2>
</div>


<p>While developing an automated build tool always help saving time and make things
magic and smooth.</p>

<p>My first intention was to use the standardized tools so I looked at Bower and
Cake. To have more possibilities above the tasks I decided to create a Cakefile.
This was a good way but over time it got bloated.</p>

<p>Because the general tasks are easy but have to be modularized I decided to
separate them into build tasks which stay in the package and overall management
tasks which were moved out into this helper tool.</p>


<div class="pilwrap" id="installation">
  <h2>
    <a href="#installation" name="installation" class="pilcrow">&#182;</a>
    Installation
  </h2>
</div>


<p>Install the package using npm:</p>

<blockquote>
  <p>npm install alinex-make --production -g
  npm dedupe</p>
</blockquote>

<p>After global installation you may directly call <code>alinex-make</code> from anywhere.</p>

<p><a href="https://nodei.co/npm/alinex-make/"><img src="https://nodei.co/npm/alinex-make.png?downloads=true&amp;stars=true" alt="NPM" title="" /></a></p>


<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow">&#182;</a>
    Usage
  </h2>
</div>


<p>The tool will be called with</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="p">[</span><span class="nx">general</span> <span class="nx">options</span><span class="p">]</span> <span class="o">&lt;</span><span class="nx">command</span><span class="o">&gt;</span> <span class="p">[</span><span class="nx">command</span> <span class="nx">options</span><span class="p">]</span>
</code></pre></div>



<p>With the option <code>--help</code> a screen explaining all commands and options will be
displayed. The major commands will be described here.</p>


<div class="pilwrap" id="general%20options">
  <h3>
    <a href="#general%20options" name="general%20options" class="pilcrow">&#182;</a>
    General options
  </h3>
</div>


<p><code>-v</code>or <code>--verbose</code> will display a lot of information of what is going on.
This information will sometimes look discarded because of the parallel
processing of some tasks.</p>

<p><code>-C</code> or <code>--no-colors</code> can be used to disable the colored output.</p>


<div class="pilwrap" id="command%20create">
  <h3>
    <a href="#command%20create" name="command%20create" class="pilcrow">&#182;</a>
    Command <code>create</code>
  </h3>
</div>


<p>Create a new package from scratch. This will create:</p>

<ul>
<li>the directory</li>
<li>make some initial files</li>
<li>init git repository</li>
<li>setup github repository</li>
<li>add and commit everything</li>
</ul>

<p>The create task needs the <code>--password</code> setting to access github
through the api. And you may specify the <code>--package</code> setting for the npm name
of the package. The also mandatory path will be used as the github repository
name, too.</p>

<p>An example call will look like:</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">create</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span> <span class="o">--</span><span class="nx">password</span> <span class="nx">xxxxxxxxx</span> <span class="o">--</span><span class="kr">package</span> <span class="nx">alinex</span><span class="o">-</span><span class="nx">error</span>
</code></pre></div>



<p>After that you may directly start to add your code. If the github repository
should not be created under user 'alinex' you may specify another one using
<code>--user</code>.</p>


<div class="pilwrap" id="command%20push">
  <h3>
    <a href="#command%20push" name="command%20push" class="pilcrow">&#182;</a>
    Command <code>push</code>
  </h3>
</div>


<p>This will push the changes to the origin repository. With the <code>--commit</code> option
it will also add and commit all other changes before doing so.</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">push</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span>
</code></pre></div>



<p>or</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">push</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span> <span class="o">--</span><span class="nx">commit</span> <span class="s2">&quot;commit message&quot;</span>
</code></pre></div>




<div class="pilwrap" id="command%20pull">
  <h3>
    <a href="#command%20pull" name="command%20pull" class="pilcrow">&#182;</a>
    Command <code>pull</code>
  </h3>
</div>


<p>Like <code>push</code> this will fetch the newest changes from git origin.</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">pull</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span>
</code></pre></div>




<div class="pilwrap" id="command%20test">
  <h3>
    <a href="#command%20test" name="command%20test" class="pilcrow">&#182;</a>
    Command <code>test</code>
  </h3>
</div>


<p>As a first test a coffeelint check will be run. Only if this won't have any
errors the automatic tests will be run.</p>

<p>If the <a href="http://gotwarlost.github.io/istanbul/">istanbul</a> module is installed
a code coverage report will be build.</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">test</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span>
</code></pre></div>



<p>Or to contineously watch:</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">test</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span> <span class="o">--</span><span class="nx">watch</span>
</code></pre></div>



<p>And at last you may also add the <code>--browser</code> flag to open the documentation in
the browser after created.</p>


<div class="pilwrap" id="command%3A%20doc">
  <h3>
    <a href="#command%3A%20doc" name="command%3A%20doc" class="pilcrow">&#182;</a>
    Command: <code>doc</code>
  </h3>
</div>


<p>Generate the documentation this will create the documentation in the <code>doc</code>
folder. It includes the API documentation with code. Each module will get his
own documentation space with an auto generated index page.</p>

<p>This tool will extract the documentation from the markup and code files in
any language and generate HTML pages with the documentation beside the
code.</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">doc</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span>
</code></pre></div>



<p>It is also possible to update the documentation on github using an additional
switch:</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">doc</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span> <span class="o">--</span><span class="nx">publish</span>
</code></pre></div>



<p>With the <code>--watch</code> option it is possible to keep the documentation updated.</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">doc</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span> <span class="o">--</span><span class="nx">watch</span>
</code></pre></div>



<p>But this process will never end, you have to stop it manually to end it.</p>

<p>And at last you may also add the <code>--browser</code> flag to open the documentation in
the browser after created.</p>


<div class="pilwrap" id="command%20build">
  <h3>
    <a href="#command%20build" name="command%20build" class="pilcrow">&#182;</a>
    Command <code>build</code>
  </h3>
</div>


<p>Genereate the base system out of the source code. This creates the <code>lib</code> folder
by copying, compiling and transforming files. Everything will be done parallel.</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">build</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span>
</code></pre></div>



<p>With the <code>--watch</code> option it is possible to keep the documentation updated.</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">build</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span> <span class="o">--</span><span class="nx">watch</span>
</code></pre></div>




<div class="pilwrap" id="command%20publish">
  <h3>
    <a href="#command%20publish" name="command%20publish" class="pilcrow">&#182;</a>
    Command <code>publish</code>
  </h3>
</div>


<p>With the push command you can publish your newest changes to github and npm as a
new version. The version can be set by signaling if it should be a <code>--major</code>,
<code>--minor</code> or bugfix version if no switch given.</p>

<p>To publish the next bugfix version only call:</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">publish</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span>
</code></pre></div>



<p>For the next minor version (second number) call:</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">publish</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span> <span class="o">--</span><span class="nx">minor</span>
</code></pre></div>



<p>And for a new major version:</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">publish</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span> <span class="o">--</span><span class="nx">major</span>
</code></pre></div>




<div class="pilwrap" id="command%3A%20clean">
  <h3>
    <a href="#command%3A%20clean" name="command%3A%20clean" class="pilcrow">&#182;</a>
    Command: <code>clean</code>
  </h3>
</div>


<p>Remove all automatically generated files. This will bring you to the initial
state of the system. To create a usable system you have to build it again.</p>

<p>To clean everything which you won't need for a production environment use
<code>--dist</code> or <code>--auto</code> to remove all automatically generated files in the
development environment.</p>

<p>To cleanup all safe files:</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">clean</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span>
</code></pre></div>



<p>Or on the development system remove all created files:</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">clean</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span> <span class="o">--</span><span class="nx">auto</span>
</code></pre></div>



<p>And at last for production remove development files:</p>


<div class="highlight"><pre><code><span class="o">&gt;</span> <span class="nx">bin</span><span class="o">/</span><span class="nx">make</span> <span class="nx">clean</span> <span class="p">..</span><span class="o">/</span><span class="nx">node</span><span class="o">-</span><span class="nx">error</span> <span class="o">--</span><span class="nx">dist</span>
</code></pre></div>




<div class="pilwrap" id="command%20overview">
  <h2>
    <a href="#command%20overview" name="command%20overview" class="pilcrow">&#182;</a>
    Command overview
  </h2>
</div>


<p>The following table will give a short overview of what really is done on each
command. This is not a full list of options and execute commands but an overview
of the major parts.</p>


<div class="highlight"><pre><code><span class="o">|</span><span class="err"> </span><span class="nx">Command</span> <span class="o">|</span> <span class="nx">Option</span> <span class="o">|</span> <span class="nx">Execute</span> <span class="p">(</span><span class="nx">pseudo</span> <span class="nx">code</span><span class="p">)</span>                                 <span class="o">|</span>
<span class="o">+---------+--------+-------------------------------------------------------+</span>
<span class="o">|</span> <span class="nx">create</span>  <span class="o">|</span> <span class="o">-</span>      <span class="o">|</span> <span class="nx">mkdir</span><span class="p">;</span> <span class="nx">git</span> <span class="nx">init</span><span class="p">;</span> <span class="nx">touch</span> <span class="nx">files</span><span class="p">...;</span> <span class="nx">create</span> <span class="nx">github</span>        <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span>        <span class="o">|</span><span class="err"> </span><span class="nx">git</span> <span class="nx">add</span><span class="p">;</span> <span class="nx">git</span> <span class="nx">commit</span><span class="p">;</span> <span class="nx">git</span> <span class="nx">push</span>                         <span class="o">|</span>
<span class="o">|</span> <span class="nx">push</span>    <span class="o">|</span> <span class="o">-</span>      <span class="o">|</span> <span class="nx">git</span> <span class="nx">push</span> <span class="nx">origin</span> <span class="nx">master</span>                                <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span> <span class="nx">commit</span> <span class="o">|</span> <span class="o">+</span> <span class="nx">git</span> <span class="nx">add</span><span class="p">;</span> <span class="nx">git</span> <span class="nx">commit</span> <span class="c1">// before                       |</span>
<span class="o">|</span> <span class="nx">pull</span>    <span class="o">|</span> <span class="o">-</span>      <span class="o">|</span> <span class="nx">git</span> <span class="nx">pull</span>                                              <span class="o">|</span>
<span class="o">|</span> <span class="nx">test</span>    <span class="o">|</span> <span class="o">-</span>      <span class="o">|</span> <span class="nx">lint</span><span class="p">;</span> <span class="nx">npm</span> <span class="nx">test</span><span class="p">;</span> <span class="nx">istanbul</span>                              <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span> <span class="nx">watch</span>  <span class="o">|</span> <span class="o">+</span> <span class="nx">keep</span> <span class="nx">watching</span>                                       <span class="o">|</span>
<span class="o">|</span> <span class="nx">doc</span>     <span class="o">|</span> <span class="o">-</span>      <span class="o">|</span> <span class="nx">docker</span>                                                <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span> <span class="nx">watch</span>  <span class="o">|</span> <span class="o">+</span> <span class="nx">keep</span> <span class="nx">watching</span>                                       <span class="o">|</span>
<span class="o">|</span> <span class="nx">build</span>   <span class="o">|</span> <span class="o">-</span>      <span class="o">|</span> <span class="nx">npm</span> <span class="nx">install</span><span class="p">;</span> <span class="nx">npm</span> <span class="nx">update</span><span class="p">;</span> <span class="nx">npm</span> <span class="nx">dedupe</span>                   <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span> <span class="nx">watch</span>  <span class="o">|</span> <span class="o">+</span> <span class="nx">keep</span> <span class="nx">watching</span>                                       <span class="o">|</span>
<span class="o">|</span> <span class="nx">publish</span> <span class="o">|</span> <span class="o">-</span>      <span class="o">|</span> <span class="nx">git</span> <span class="nx">tag</span><span class="p">;</span> <span class="nx">git</span> <span class="nx">push</span><span class="p">;</span> <span class="nx">npm</span> <span class="nx">publish</span>                        <span class="o">|</span>
<span class="o">|</span> <span class="nx">clean</span>   <span class="o">|</span> <span class="o">-</span>      <span class="o">|</span> <span class="nx">rm</span> <span class="o">-</span><span class="nx">r</span><span class="p">;</span> <span class="nx">npm</span> <span class="nx">prune</span>                                      <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span> <span class="nx">dist</span>   <span class="o">|</span> <span class="o">+</span> <span class="nx">rm</span> <span class="o">-</span><span class="nx">r</span> <span class="nx">more</span> <span class="nx">files</span>                                    <span class="o">|</span>
<span class="o">|</span>         <span class="o">|</span> <span class="nx">auto</span>   <span class="o">|</span> <span class="o">+</span> <span class="nx">rm</span> <span class="o">-</span><span class="nx">r</span> <span class="nx">more</span> <span class="nx">files</span>                                    <span class="o">|</span>
</code></pre></div>




<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow">&#182;</a>
    License
  </h2>
</div>


<p>Copyright 2013-2014 Alexander Schilling</p>

<p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>

<blockquote>
  <p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
</blockquote>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p></div>
  </div>
</body>
</html>
